<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Cohort - Finde deinen Weg</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #f9fafb;
            padding: 20px 0;
            line-height: 1.6;
        }
        
        .container {
            max-width: 672px;
            margin: 0 auto;
            padding: 24px;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 24px;
        }
        
        .text-center {
            text-align: center;
        }
        
        .mb-8 {
            margin-bottom: 32px;
        }
        
        .mb-6 {
            margin-bottom: 24px;
        }
        
        .mb-4 {
            margin-bottom: 16px;
        }
        
        .mb-3 {
            margin-bottom: 12px;
        }
        
        .mb-2 {
            margin-bottom: 8px;
        }
        
        .mb-1 {
            margin-bottom: 4px;
        }
        
        .mt-6 {
            margin-top: 24px;
        }
        
        .p-4 {
            padding: 16px;
        }
        
        .p-6 {
            padding: 24px;
        }
        
        .px-3 {
            padding-left: 12px;
            padding-right: 12px;
        }
        
        .py-1 {
            padding-top: 4px;
            padding-bottom: 4px;
        }
        
        .px-6 {
            padding-left: 24px;
            padding-right: 24px;
        }
        
        .py-3 {
            padding-top: 12px;
            padding-bottom: 12px;
        }
        
        .heart-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #00b3b3, #008b8b);
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin-bottom: 16px;
        }
        
        .title {
            font-size: 30px;
            font-weight: bold;
            color: #020203;
            margin-bottom: 8px;
        }
        
        .subtitle {
            color: #6b7280;
            margin-bottom: 32px;
        }
        
        .progress-container {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #d1d5db;
            transition: all 0.3s ease;
        }
        
        .progress-dot.active {
            background: linear-gradient(135deg, #00b3b3, #008b8b);
        }
        
        .question-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c2c2c;
            margin-bottom: 24px;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 32px;
        }
        
        .option-button {
            width: 100%;
            padding: 16px;
            text-align: left;
            background-color: #f5f5f5;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s ease;
            font-size: 16px;
            color: #374151;
        }
        
        .option-button:hover {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border-color: #00b3b3;
        }
        
        .option-icon {
            font-size: 20px;
            color: #6b7280;
            transition: color 0.2s ease;
        }
        
        .option-button:hover .option-icon {
            color: #00b3b3;
        }
        
        .option-text {
            flex: 1;
        }
        
        .arrow-icon {
            color: #9ca3af;
            transition: color 0.2s ease;
        }
        
        .option-button:hover .arrow-icon {
            color: #00b3b3;
        }
        
        .hint {
            text-align: center;
            font-size: 14px;
            color: #6b7280;
        }
        
        /* Result Styles */
        .result-container {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 24px;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 24px;
        }
        
        .result-type {
            font-size: 18px;
            font-weight: 600;
            color: #374151;
        }
        
        .result-message {
            color: #6b7280;
            font-style: italic;
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .recommendation-grid {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .recommendation-item {
            background: white;
            padding: 16px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid #f3f4f6;
        }
        
        .recommendation-header {
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .badge {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }
        
        .badge-primary {
            background: linear-gradient(135deg, #d1006f, #a8004f);
        }
        
        .badge-secondary {
            background: linear-gradient(135deg, #00b3b3, #008b8b);
        }
        
        .primary-course {
            font-size: 18px;
            font-weight: 500;
            color: #00b3b3;
        }
        
        .secondary-course {
            color: #374151;
        }
        
        .theme-groups {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .theme-tag {
            padding: 4px 12px;
            border-radius: 9999px;
            font-size: 14px;
            font-weight: 500;
            color: white;
        }
        
        .theme-tag-primary {
            background-color: #00b3b3;
        }
        
        .theme-tag-secondary {
            background-color: #d1006f;
        }
        
        .quick-win {
            padding: 16px;
            border-radius: 8px;
            background-color: #f5f5f5;
            border: 2px solid #d1006f;
        }
        
        .quick-win-title {
            font-weight: 600;
            color: #d1006f;
            margin-bottom: 8px;
        }
        
        .quick-win-text {
            color: #374151;
            font-weight: 500;
        }
        
        .reset-button {
            background-color: #d1006f;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: opacity 0.2s ease;
        }
        
        .reset-button:hover {
            opacity: 0.9;
        }
        
        .footer-text {
            text-align: center;
            font-size: 14px;
            color: #2c2c2c;
        }
        
        /* Background colors for results */
        .bg-cyan-50 {
            background-color: #ecfeff;
        }
        
        .bg-pink-50 {
            background-color: #fdf2f8;
        }
        
        .bg-gray-50 {
            background-color: #f9fafb;
        }
        
        .result-icon {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin-bottom: 16px;
        }
        
        .result-icon-cyan {
            background: linear-gradient(135deg, #00b3b3, #008b8b);
        }
        
        .result-icon-pink {
            background: linear-gradient(135deg, #d1006f, #a8004f);
        }
        
        .result-icon-gray {
            background: linear-gradient(135deg, #2c2c2c, #1a1a1a);
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="app">
            <!-- Bot wird hier gerendert -->
        </div>
    </div>

    <script>
        // Bot State
        let currentStep = 0;
        let answers = {};
        let result = null;

        // Questions Data
        const questions = [
            {
                id: 'lifestyle',
                question: 'Wie sieht dein Alltag gerade aus?',
                options: [
                    { value: 'employed', text: 'Angestellt - feste Arbeitszeiten', icon: 'üíº' },
                    { value: 'selfemployed', text: 'Selbstst√§ndig/Unternehmer', icon: 'üë•' },
                    { value: 'transition', text: 'Zwischen Jobs/Neuorientierung', icon: 'üîÑ' },
                    { value: 'retired', text: 'Ruhestand/mehr Zeit f√ºr mich', icon: 'üè†' }
                ]
            },
            {
                id: 'evening_scenario',
                question: 'Es ist 22:30 Uhr. Du liegst im Bett und...',
                options: [
                    { value: 'planning', text: 'planst gedanklich den n√§chsten Tag durch', icon: '‚è∞' },
                    { value: 'worrying', text: 'gr√ºbelst √ºber Gespr√§che oder Situationen', icon: 'üì±' },
                    { value: 'restless', text: 'f√ºhlst dich k√∂rperlich unruhig/angespannt', icon: 'üíó' },
                    { value: 'scrolling', text: 'schaust noch "kurz" aufs Handy', icon: '‚û°Ô∏è' }
                ]
            },
            {
                id: 'stress_reaction',
                question: 'Du bekommst eine Nachricht, die Stress ausl√∂st. Dein erster Impuls:',
                options: [
                    { value: 'immediate', text: 'Sofort reagieren und antworten', icon: 'üì±' },
                    { value: 'anxiety', text: 'Bauchgef√ºhl wird flau, Kopfkino startet', icon: 'üíó' },
                    { value: 'ignore', text: 'Ignorieren, aber es besch√§ftigt dich trotzdem', icon: '‚è∞' },
                    { value: 'boundary', text: 'Bewusst Zeit nehmen vor der Reaktion', icon: '‚òï' }
                ]
            },
            {
                id: 'morning_energy',
                question: 'Wie startest du normalerweise in den Tag?',
                options: [
                    { value: 'tired', text: 'M√ºde - wie ein Handy mit 15% Akku', icon: 'üíó' },
                    { value: 'anxious', text: 'Wach, aber innerlich schon gehetzt', icon: '‚è∞' },
                    { value: 'overwhelmed', text: 'Die To-Do-Liste explodiert in deinem Kopf', icon: 'üì±' },
                    { value: 'ok', text: 'Geht so - erstmal orientieren', icon: '‚òï' }
                ]
            },
            {
                id: 'decision_making',
                question: 'Bei wichtigen Entscheidungen denkst du:',
                options: [
                    { value: 'overthink', text: 'Was, wenn ich das Falsche w√§hle? Alle Optionen durchdenken', icon: 'üì±' },
                    { value: 'healthy', text: 'Was ist langfristig das Beste f√ºr mich?', icon: 'üíó' },
                    { value: 'quick', text: 'Schnell entscheiden - Hauptsache vorankommen', icon: '‚è∞' },
                    { value: 'intuitive', text: 'Auf mein Bauchgef√ºhl h√∂ren', icon: '‚òï' }
                ]
            }
        ];

        // Recommendation Logic
        function getRecommendation(answers) {
            const { lifestyle, ...otherAnswers } = answers;
            const values = Object.values(otherAnswers);
            
            const counts = {
                stress: values.filter(v => ['immediate', 'anxiety', 'anxious'].includes(v)).length,
                overthinking: values.filter(v => ['planning', 'worrying', 'overthink'].includes(v)).length,
                exhaustion: values.filter(v => ['tired', 'restless', 'overwhelmed'].includes(v)).length,
                awareness: values.filter(v => ['boundary', 'healthy', 'intuitive', 'ok'].includes(v)).length
            };

            const maxCount = Math.max(...Object.values(counts));
            const dominant = Object.keys(counts).find(key => counts[key] === maxCount);

            const getLifestyleSpecificContent = (type, lifestyle) => {
                const content = {
                    stress: {
                        employed: {
                            message: 'Dein System l√§uft im Dauerstress. Als Angestellte*r kennst du den Druck - Zeit, deinem Nervensystem beizubringen, dass Feierabend wirklich Feierabend ist.',
                            quickWin: 'Heute Abend: Handy um 21 Uhr stumm - dein Nervensystem braucht echten Feierabend'
                        },
                        selfemployed: {
                            message: 'Als Selbstst√§ndige*r kennst du den Stress, immer "an" zu sein. Dein Nervensystem braucht klare Grenzen - auch f√ºr dich als eigene*r Chef*in.',
                            quickWin: 'Heute: Feste "Feierabend"-Zeit definieren - auch f√ºr dich als Chef*in'
                        },
                        transition: {
                            message: 'Unsicherheit und Zukunftsangst stressen dein System. In √úbergangsphasen braucht dein Nervensystem besonders viel Unterst√ºtzung.',
                            quickWin: 'Heute: Eine Sache tun, die dir Kraft gibt - unabh√§ngig von der Jobsuche'
                        },
                        retired: {
                            message: 'Auch im Ruhestand kann Stress entstehen - durch Gesundheitssorgen, Familie oder neue Lebensumst√§nde. Dein Nervensystem verdient Ruhe.',
                            quickWin: 'Heute: Eine Aktivit√§t, die dir echte Freude macht - ohne Stress oder Verpflichtung'
                        }
                    },
                    overthinking: {
                        employed: {
                            message: 'Dein Kopf l√§uft auch nach Feierabend weiter. Arbeitsgedanken, Sorgen, Planungen - Zeit f√ºr mentale Klarheit.',
                            quickWin: 'N√§chstes Gedankenkarussell: "Stopp" sagen + 3 tiefe Atemz√ºge'
                        },
                        selfemployed: {
                            message: 'Als Selbstst√§ndige*r denkst du an alles - Kunden, Projekte, Finanzen. Dein Kopf braucht Pausen vom "Unternehmermodus".',
                            quickWin: 'Abends: Gedanken-Stopp um 20 Uhr + bewusst abschalten'
                        },
                        transition: {
                            message: 'Zukunftssorgen und "Was w√§re wenn"-Gedanken kreisen endlos. Zeit, aus dem Kopf in den K√∂rper zu kommen.',
                            quickWin: 'Bei Zukunftssorgen: "Was kann ich HEUTE tun?" fragen'
                        },
                        retired: {
                            message: 'Mehr Zeit bedeutet oft mehr Raum zum Gr√ºbeln - √ºber Familie, Gesundheit, Vergangenheit. Lass uns deinen Kopf beruhigen.',
                            quickWin: 'Bei Gr√ºbeleien: Aufstehen + 5 Minuten Spaziergang'
                        }
                    },
                    exhaustion: {
                        employed: {
                            message: 'Job, Familie, Verpflichtungen - du l√§ufst auf Reserve. Dein K√∂rper braucht echte Erholung, nicht nur Feierabend.',
                            quickWin: 'Diese Woche: Mittagspause ohne Handy - nur 15 Minuten f√ºr dich'
                        },
                        selfemployed: {
                            message: 'Selbstst√§ndigkeit bedeutet oft 24/7 arbeiten. Du hast vergessen, wie sich echte Erholung anf√ºhlt.',
                            quickWin: 'Diese Woche: Einen Tag komplett arbeitsfrei - ohne schlechtes Gewissen'
                        },
                        transition: {
                            message: 'Jobsuche und Ungewissheit sind emotional ersch√∂pfend. Du darfst m√ºde sein und brauchst bewusste Pausen.',
                            quickWin: 'Diese Woche: Bewusst Pausen von der Jobsuche - du darfst entspannen'
                        },
                        retired: {
                            message: 'Ruhestand hei√üt nicht automatisch erholt sein. Dein K√∂rper und Geist brauchen bewusste Regeneration.',
                            quickWin: 'Diese Woche: Bewusst "Nein" zu Verpflichtungen sagen'
                        }
                    },
                    awareness: {
                        employed: {
                            message: 'Du hast schon ein gutes Gesp√ºr f√ºr dich. Lass uns deine Achtsamkeit vertiefen, damit sie auch im Arbeitsalltag tr√§gt.',
                            quickWin: 'Morgen fr√ºh: 5 Minuten bewusst sp√ºren, was dein K√∂rper vor der Arbeit braucht'
                        },
                        selfemployed: {
                            message: 'Als Selbstst√§ndige*r hast du schon Selbstverantwortung gelernt. Zeit, diese auch f√ºr dein Wohlbefinden zu nutzen.',
                            quickWin: 'T√§glich: 10 Minuten nur f√ºr dich - nicht f√ºr Kunden oder Business'
                        },
                        transition: {
                            message: 'Du hast eine gute Basis und Vertrauen in den Prozess. Lass uns diese St√§rke ausbauen f√ºr deinen neuen Weg.',
                            quickWin: 'T√§glich: Eine Sache, f√ºr die du dankbar bist - st√§rkt dein Vertrauen'
                        },
                        retired: {
                            message: 'Du hast Lebenserfahrung und Weisheit. Zeit, diese bewusst f√ºr dein Wohlbefinden und deine Gesundheit zu nutzen.',
                            quickWin: 'T√§glich: 10 Minuten in der Natur - sp√ºren statt denken'
                        }
                    }
                };

                return content[type]?.[lifestyle] || content[type]?.employed;
            };

            const lifestyleContent = getLifestyleSpecificContent(dominant, lifestyle);

            const recommendations = {
                stress: {
                    type: 'Nervensystem-Regulation',
                    primaryCourse: 'Stressmanagement Kurs',
                    secondaryCourse: 'Achtsamkeitskurs',
                    themeGroups: ['Nervensystem & Stress', 'Schlaf/Erholung/R√ºckzug'],
                    message: lifestyleContent?.message || 'Dein System l√§uft im Dauerstress. Zeit, deinem Nervensystem beizubringen, dass es sicher ist.',
                    quickWin: lifestyleContent?.quickWin || 'Heute Abend: 5 Minuten bewusst atmen statt Handy checken',
                    bgColor: 'bg-cyan-50',
                    iconClass: 'result-icon-cyan'
                },
                overthinking: {
                    type: 'Gedankenstopp',
                    primaryCourse: 'Overthinking Kurs',
                    secondaryCourse: 'Achtsamkeitskurs',
                    themeGroups: ['Mentale Gesundheit & Mindset', 'Nervensystem & Stress'],
                    message: lifestyleContent?.message || 'Dein Kopf ist ein Browser mit 47 offenen Tabs. Lass uns aufr√§umen.',
                    quickWin: lifestyleContent?.quickWin || 'N√§chstes Mal beim Gr√ºbeln: 3 tiefe Atemz√ºge + eine konkrete Handlung',
                    bgColor: 'bg-pink-50',
                    iconClass: 'result-icon-pink'
                },
                exhaustion: {
                    type: 'Energie & Erholung',
                    primaryCourse: 'Besser Schlafen Kurs',
                    secondaryCourse: 'Stressmanagement Kurs',
                    themeGroups: ['Schlaf/Erholung/R√ºckzug', 'Nervensystem & Stress'],
                    message: lifestyleContent?.message || 'Du l√§ufst auf Reserve. Dein K√∂rper braucht echte Erholung, nicht nur Pausen.',
                    quickWin: lifestyleContent?.quickWin || 'Heute: 20 Minuten ohne Stimulation - kein Handy, kein Podcast, nur du',
                    bgColor: 'bg-gray-50',
                    iconClass: 'result-icon-gray'
                },
                awareness: {
                    type: 'Ganzheitliche St√§rkung',
                    primaryCourse: 'Achtsamkeitskurs',
                    secondaryCourse: 'Mindset Kurs',
                    themeGroups: ['Ganzheitliche Gesundheit', 'Mentale Gesundheit & Mindset'],
                    message: lifestyleContent?.message || 'Du hast schon eine gute Basis. Lass uns deine Intuition und Achtsamkeit vertiefen.',
                    quickWin: lifestyleContent?.quickWin || 'Diese Woche: Einmal t√§glich 2 Minuten bewusst wahrnehmen, was du gerade brauchst',
                    bgColor: 'bg-cyan-50',
                    iconClass: 'result-icon-cyan'
                }
            };

            return recommendations[dominant] || recommendations.awareness;
        }

        // Handle Answer
        function handleAnswer(value) {
            answers[questions[currentStep].id] = value;

            if (currentStep < questions.length - 1) {
                currentStep++;
                render();
            } else {
                result = getRecommendation(answers);
                render();
            }
        }

        // Reset Bot
        function resetBot() {
            currentStep = 0;
            answers = {};
            result = null;
            render();
        }

        // Render Result
        function renderResult() {
            return `
                <div class="card">
                    <div class="result-container p-6 ${result.bgColor}">
                        <div class="result-header">
                            <div class="result-icon ${result.iconClass}">üíó</div>
                            <h2 class="title">Dein Startpunkt</h2>
                            <h3 class="result-type">${result.type}</h3>
                        </div>
                        
                        <div class="result-message mb-6">${result.message}</div>

                        <div class="recommendation-grid">
                            <div class="recommendation-item">
                                <h4 class="recommendation-header">
                                    <span class="badge badge-primary">1</span>
                                    Dein Hauptkurs
                                </h4>
                                <p class="primary-course">${result.primaryCourse}</p>
                            </div>

                            <div class="recommendation-item">
                                <h4 class="recommendation-header">
                                    <span class="badge badge-secondary">+</span>
                                    Erg√§nzend
                                </h4>
                                <p class="secondary-course">${result.secondaryCourse}</p>
                            </div>

                            <div class="recommendation-item">
                                <h4 class="recommendation-header mb-3">üìö Deine Themengruppen</h4>
                                <div class="theme-groups">
                                    ${result.themeGroups.map((group, index) => `
                                        <span class="theme-tag ${index === 0 ? 'theme-tag-primary' : 'theme-tag-secondary'}">
                                            ${group}
                                        </span>
                                    `).join('')}
                                </div>
                            </div>

                            <div class="quick-win">
                                <h4 class="quick-win-title">‚ú® Dein Quick Win</h4>
                                <p class="quick-win-text">${result.quickWin}</p>
                            </div>
                        </div>

                        <div class="text-center mt-6">
                            <button onclick="resetBot()" class="reset-button">
                                üîÑ Nochmal machen
                            </button>
                        </div>
                    </div>

                    <div class="footer-text">
                        <p class="mb-1">üíù Starte dort, wo es sich richtig anf√ºhlt.</p>
                        <p>Kleine Schritte, gro√üe Wirkung - du schaffst das!</p>
                    </div>
                </div>
            `;
        }

        // Render Questions
        function renderQuestions() {
            const currentQuestion = questions[currentStep];
            
            return `
                <div class="card">
                    <div class="text-center mb-8">
                        <div class="heart-icon">üíó</div>
                        <h1 class="title">Finde deinen Weg</h1>
                        <p class="subtitle">Lass uns herausfinden, was dein System gerade braucht.</p>
                    </div>

                    <div class="mb-6">
                        <div class="progress-container">
                            ${questions.map((_, index) => `
                                <div class="progress-dot ${index <= currentStep ? 'active' : ''}"></div>
                            `).join('')}
                        </div>
                        <p class="text-center" style="font-size: 14px; color: #6b7280;">
                            ${currentStep + 1} von ${questions.length}
                        </p>
                    </div>

                    <div class="mb-8">
                        <h2 class="question-title text-center">${currentQuestion.question}</h2>
                        
                        <div class="options-container">
                            ${currentQuestion.options.map((option) => `
                                <button onclick="handleAnswer('${option.value}')" class="option-button">
                                    <div class="option-icon">${option.icon}</div>
                                    <span class="option-text">${option.text}</span>
                                    <span class="arrow-icon">‚û°Ô∏è</span>
                                </button>
                            `).join('')}
                        </div>
                    </div>

                    <div class="hint">
                        <p>üí° W√§hle spontan - dein Bauchgef√ºhl wei√ü die Antwort.</p>
                    </div>
                </div>
            `;
        }

        // Main Render Function
        function render() {
            const app = document.getElementById('app');
            if (result) {
                app.innerHTML = renderResult();
            } else {
                app.innerHTML = renderQuestions();
            }
        }

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            render();
        });
    </script>
</body>
</html>
